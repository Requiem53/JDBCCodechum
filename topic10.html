<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="styles_container__NSLBw styles_topic__0Oj3p" data-testid="container"><div class="styles_introduction__ZV3Aa"><div class="styles_content__yC9QT"><h4 class="styles_number__xZCc_ styles_text___heading___xs__Qdbcu styles_text___n___400__aBo5c">Topic 10</h4><h2 class="styles_text___heading___md__33rIP styles_text___n___700__ekgLG">JDBC Stored Procedures</h2></div></div><div class="styles_markdown__MF_A7" data-testid="markdownContent"><p>In Java Database Connectivity (JDBC), a stored procedure is a precompiled block of SQL code that can be stored and executed on the database server. Stored procedures offer many benefits, including improved performance, code reusability, and security. With JDBC, you can call and work with stored procedures from your Java application.</p><p>In this guide, we will explore how to work with stored procedures using JDBC, including calling stored procedures, passing parameters to stored procedures, and handling stored procedure results.</p><h1 id="calling-stored-procedures">Calling Stored Procedures</h1><p>To call a stored procedure using JDBC, you use the <strong>CallableStatement</strong> object, which is a subclass of <strong>PreparedStatement</strong>. The <strong>CallableStatement</strong> allows you to execute stored procedures and retrieve results from them.</p><h2 id="example-calling-a-stored-procedure">Example: Calling a Stored Procedure</h2><div data-testid="code"><pre class="styles_code__ftUXL styles_code___sm_text__rX4Ex" data-testid="syntaxHighlighter" style="color: rgb(204, 204, 204); background: rgb(45, 45, 45); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-size: 1em; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; margin: 0.5em 0px; overflow: auto;"><code class="language-java" style="color: rgb(204, 204, 204); background: none; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-size: 1em; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none;"><span class="token token" style="color: rgb(240, 141, 73);">1</span><span>	</span><span class="token token" style="color: rgb(204, 153, 205);">import</span><span> </span><span class="token token" style="color: rgb(226, 119, 122);">java</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(226, 119, 122);">sql</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(103, 205, 204);">*</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">2</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">3</span><span>	</span><span class="token token" style="color: rgb(204, 153, 205);">public</span><span> </span><span class="token token" style="color: rgb(204, 153, 205);">class</span><span> </span><span class="token token" style="color: rgb(248, 197, 85);">StoredProcedureExample</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">{</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">4</span><span>	    </span><span class="token token" style="color: rgb(204, 153, 205);">public</span><span> </span><span class="token token" style="color: rgb(204, 153, 205);">static</span><span> </span><span class="token token" style="color: rgb(204, 153, 205);">void</span><span> </span><span class="token token" style="color: rgb(240, 141, 73);">main</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(248, 197, 85);">String</span><span class="token token" style="color: rgb(204, 204, 204);">[</span><span class="token token" style="color: rgb(204, 204, 204);">]</span><span> args</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">{</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">5</span><span>	        </span><span class="token token" style="color: rgb(248, 197, 85);">String</span><span> url </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> </span><span class="token token" style="color: rgb(126, 198, 153);">"jdbc:mysql://your_mysql_host:3306/your_database_name"</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">6</span><span>	        </span><span class="token token" style="color: rgb(248, 197, 85);">String</span><span> username </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> </span><span class="token token" style="color: rgb(126, 198, 153);">"your_username"</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">7</span><span>	        </span><span class="token token" style="color: rgb(248, 197, 85);">String</span><span> password </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> </span><span class="token token" style="color: rgb(126, 198, 153);">"your_password"</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">8</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">9</span><span>	        </span><span class="token token" style="color: rgb(204, 153, 205);">try</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">{</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">10</span><span>	            </span><span class="token token" style="color: rgb(248, 197, 85);">Connection</span><span> connection </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> </span><span class="token token" style="color: rgb(248, 197, 85);">DriverManager</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">getConnection</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span>url</span><span class="token token" style="color: rgb(204, 204, 204);">,</span><span> username</span><span class="token token" style="color: rgb(204, 204, 204);">,</span><span> password</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">11</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">12</span><span>	            </span><span class="token token" style="color: rgb(153, 153, 153);">// Prepare the CallableStatement with the stored procedure call</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">13</span><span>	            </span><span class="token token" style="color: rgb(248, 197, 85);">String</span><span> storedProcedureCall </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> </span><span class="token token" style="color: rgb(126, 198, 153);">"{call get_user_by_id(?, ?)}"</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">14</span><span>	            </span><span class="token token" style="color: rgb(248, 197, 85);">CallableStatement</span><span> callableStatement </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> connection</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">prepareCall</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span>storedProcedureCall</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">15</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">16</span><span>	            </span><span class="token token" style="color: rgb(153, 153, 153);">// Set input parameters</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">17</span><span>	            </span><span class="token token" style="color: rgb(204, 153, 205);">int</span><span> userId </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> </span><span class="token token" style="color: rgb(240, 141, 73);">1</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">18</span><span>	            callableStatement</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">setInt</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(240, 141, 73);">1</span><span class="token token" style="color: rgb(204, 204, 204);">,</span><span> userId</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">19</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">20</span><span>	            </span><span class="token token" style="color: rgb(153, 153, 153);">// Register output parameters</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">21</span><span>	            callableStatement</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">registerOutParameter</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(240, 141, 73);">2</span><span class="token token" style="color: rgb(204, 204, 204);">,</span><span> </span><span class="token token" style="color: rgb(248, 197, 85);">Types</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span>VARCHAR</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">22</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">23</span><span>	            </span><span class="token token" style="color: rgb(153, 153, 153);">// Execute the stored procedure</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">24</span><span>	            callableStatement</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">execute</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">25</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">26</span><span>	            </span><span class="token token" style="color: rgb(153, 153, 153);">// Get the result from the stored procedure</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">27</span><span>	            </span><span class="token token" style="color: rgb(248, 197, 85);">String</span><span> userName </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> callableStatement</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">getString</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(240, 141, 73);">2</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">28</span><span>	            </span><span class="token token" style="color: rgb(248, 197, 85);">System</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span>out</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">println</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(126, 198, 153);">"User name: "</span><span> </span><span class="token token" style="color: rgb(103, 205, 204);">+</span><span> userName</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">29</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">30</span><span>	            callableStatement</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">close</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">31</span><span>	            connection</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">close</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">32</span><span>	        </span><span class="token token" style="color: rgb(204, 204, 204);">}</span><span> </span><span class="token token" style="color: rgb(204, 153, 205);">catch</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(248, 197, 85);">SQLException</span><span> e</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">{</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">33</span><span>	            e</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">printStackTrace</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">34</span><span>	        </span><span class="token token" style="color: rgb(204, 204, 204);">}</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">35</span><span>	    </span><span class="token token" style="color: rgb(204, 204, 204);">}</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">36</span><span>	</span><span class="token token" style="color: rgb(204, 204, 204);">}</span></code></pre></div><h1 id="passing-parameters-to-stored-procedures">Passing Parameters to Stored Procedures</h1><p>When calling a stored procedure, you can pass input parameters and register output parameters to retrieve results from the procedure.</p><h2 id="example-passing-parameters-to-a-stored-procedure">Example: Passing Parameters to a Stored Procedure</h2><div data-testid="code"><pre class="styles_code__ftUXL styles_code___sm_text__rX4Ex" data-testid="syntaxHighlighter" style="color: rgb(204, 204, 204); background: rgb(45, 45, 45); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-size: 1em; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; margin: 0.5em 0px; overflow: auto;"><code class="language-java" style="color: rgb(204, 204, 204); background: none; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-size: 1em; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none;"><span class="token token" style="color: rgb(240, 141, 73);">1</span><span>	</span><span class="token token" style="color: rgb(204, 153, 205);">import</span><span> </span><span class="token token" style="color: rgb(226, 119, 122);">java</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(226, 119, 122);">sql</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(103, 205, 204);">*</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">2</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">3</span><span>	</span><span class="token token" style="color: rgb(204, 153, 205);">public</span><span> </span><span class="token token" style="color: rgb(204, 153, 205);">class</span><span> </span><span class="token token" style="color: rgb(248, 197, 85);">StoredProcedureWithParametersExample</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">{</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">4</span><span>	    </span><span class="token token" style="color: rgb(204, 153, 205);">public</span><span> </span><span class="token token" style="color: rgb(204, 153, 205);">static</span><span> </span><span class="token token" style="color: rgb(204, 153, 205);">void</span><span> </span><span class="token token" style="color: rgb(240, 141, 73);">main</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(248, 197, 85);">String</span><span class="token token" style="color: rgb(204, 204, 204);">[</span><span class="token token" style="color: rgb(204, 204, 204);">]</span><span> args</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">{</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">5</span><span>	        </span><span class="token token" style="color: rgb(153, 153, 153);">// ... Connection setup ...</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">6</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">7</span><span>	        </span><span class="token token" style="color: rgb(204, 153, 205);">try</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">{</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">8</span><span>	            </span><span class="token token" style="color: rgb(248, 197, 85);">Connection</span><span> connection </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> </span><span class="token token" style="color: rgb(248, 197, 85);">DriverManager</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">getConnection</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span>url</span><span class="token token" style="color: rgb(204, 204, 204);">,</span><span> username</span><span class="token token" style="color: rgb(204, 204, 204);">,</span><span> password</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">9</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">10</span><span>	            </span><span class="token token" style="color: rgb(153, 153, 153);">// Prepare the CallableStatement with the stored procedure call</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">11</span><span>	            </span><span class="token token" style="color: rgb(248, 197, 85);">String</span><span> storedProcedureCall </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> </span><span class="token token" style="color: rgb(126, 198, 153);">"{call update_user_name(?, ?)}"</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">12</span><span>	            </span><span class="token token" style="color: rgb(248, 197, 85);">CallableStatement</span><span> callableStatement </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> connection</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">prepareCall</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span>storedProcedureCall</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">13</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">14</span><span>	            </span><span class="token token" style="color: rgb(153, 153, 153);">// Set input parameters</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">15</span><span>	            </span><span class="token token" style="color: rgb(204, 153, 205);">int</span><span> userId </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> </span><span class="token token" style="color: rgb(240, 141, 73);">1</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">16</span><span>	            </span><span class="token token" style="color: rgb(248, 197, 85);">String</span><span> newName </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> </span><span class="token token" style="color: rgb(126, 198, 153);">"Jane Smith"</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">17</span><span>	            callableStatement</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">setInt</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(240, 141, 73);">1</span><span class="token token" style="color: rgb(204, 204, 204);">,</span><span> userId</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">18</span><span>	            callableStatement</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">setString</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(240, 141, 73);">2</span><span class="token token" style="color: rgb(204, 204, 204);">,</span><span> newName</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">19</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">20</span><span>	            </span><span class="token token" style="color: rgb(153, 153, 153);">// Execute the stored procedure</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">21</span><span>	            callableStatement</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">execute</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">22</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">23</span><span>	            </span><span class="token token" style="color: rgb(248, 197, 85);">System</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span>out</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">println</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(126, 198, 153);">"User name updated successfully."</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">24</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">25</span><span>	            callableStatement</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">close</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">26</span><span>	            connection</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">close</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">27</span><span>	        </span><span class="token token" style="color: rgb(204, 204, 204);">}</span><span> </span><span class="token token" style="color: rgb(204, 153, 205);">catch</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(248, 197, 85);">SQLException</span><span> e</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">{</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">28</span><span>	            e</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">printStackTrace</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">29</span><span>	        </span><span class="token token" style="color: rgb(204, 204, 204);">}</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">30</span><span>	    </span><span class="token token" style="color: rgb(204, 204, 204);">}</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">31</span><span>	</span><span class="token token" style="color: rgb(204, 204, 204);">}</span></code></pre></div><h1 id="handling-stored-procedure-results">Handling Stored Procedure Results</h1><p>Stored procedures can return results in the form of result sets, output parameters, or update counts. You need to use the appropriate methods of the <strong>CallableStatement</strong> to retrieve the results from the stored procedure.</p><h2 id="example-handling-stored-procedure-results">Example: Handling Stored Procedure Results</h2><div data-testid="code"><pre class="styles_code__ftUXL styles_code___sm_text__rX4Ex" data-testid="syntaxHighlighter" style="color: rgb(204, 204, 204); background: rgb(45, 45, 45); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-size: 1em; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; margin: 0.5em 0px; overflow: auto;"><code class="language-java" style="color: rgb(204, 204, 204); background: none; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-size: 1em; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none;"><span class="token token" style="color: rgb(240, 141, 73);">1</span><span>	</span><span class="token token" style="color: rgb(204, 153, 205);">import</span><span> </span><span class="token token" style="color: rgb(226, 119, 122);">java</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(226, 119, 122);">sql</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(103, 205, 204);">*</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">2</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">3</span><span>	</span><span class="token token" style="color: rgb(204, 153, 205);">public</span><span> </span><span class="token token" style="color: rgb(204, 153, 205);">class</span><span> </span><span class="token token" style="color: rgb(248, 197, 85);">StoredProcedureResultsExample</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">{</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">4</span><span>	    </span><span class="token token" style="color: rgb(204, 153, 205);">public</span><span> </span><span class="token token" style="color: rgb(204, 153, 205);">static</span><span> </span><span class="token token" style="color: rgb(204, 153, 205);">void</span><span> </span><span class="token token" style="color: rgb(240, 141, 73);">main</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(248, 197, 85);">String</span><span class="token token" style="color: rgb(204, 204, 204);">[</span><span class="token token" style="color: rgb(204, 204, 204);">]</span><span> args</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">{</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">5</span><span>	        </span><span class="token token" style="color: rgb(153, 153, 153);">// ... Connection setup ...</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">6</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">7</span><span>	        </span><span class="token token" style="color: rgb(204, 153, 205);">try</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">{</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">8</span><span>	            </span><span class="token token" style="color: rgb(248, 197, 85);">Connection</span><span> connection </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> </span><span class="token token" style="color: rgb(248, 197, 85);">DriverManager</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">getConnection</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span>url</span><span class="token token" style="color: rgb(204, 204, 204);">,</span><span> username</span><span class="token token" style="color: rgb(204, 204, 204);">,</span><span> password</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">9</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">10</span><span>	            </span><span class="token token" style="color: rgb(153, 153, 153);">// Prepare the CallableStatement with the stored procedure call</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">11</span><span>	            </span><span class="token token" style="color: rgb(248, 197, 85);">String</span><span> storedProcedureCall </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> </span><span class="token token" style="color: rgb(126, 198, 153);">"{call get_all_users()}"</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">12</span><span>	            </span><span class="token token" style="color: rgb(248, 197, 85);">CallableStatement</span><span> callableStatement </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> connection</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">prepareCall</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span>storedProcedureCall</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">13</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">14</span><span>	            </span><span class="token token" style="color: rgb(153, 153, 153);">// Execute the stored procedure</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">15</span><span>	            </span><span class="token token" style="color: rgb(204, 153, 205);">boolean</span><span> hasResult </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> callableStatement</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">execute</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">16</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">17</span><span>	            </span><span class="token token" style="color: rgb(204, 153, 205);">if</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span>hasResult</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">{</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">18</span><span>	                </span><span class="token token" style="color: rgb(248, 197, 85);">ResultSet</span><span> resultSet </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> callableStatement</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">getResultSet</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">19</span><span>	                </span><span class="token token" style="color: rgb(153, 153, 153);">// Process the result set</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">20</span><span>	                </span><span class="token token" style="color: rgb(204, 153, 205);">while</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span>resultSet</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">next</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">{</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">21</span><span>	                    </span><span class="token token" style="color: rgb(204, 153, 205);">int</span><span> id </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> resultSet</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">getInt</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(126, 198, 153);">"id"</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">22</span><span>	                    </span><span class="token token" style="color: rgb(248, 197, 85);">String</span><span> name </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> resultSet</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">getString</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(126, 198, 153);">"name"</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">23</span><span>	                    </span><span class="token token" style="color: rgb(248, 197, 85);">String</span><span> email </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> resultSet</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">getString</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(126, 198, 153);">"email"</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">24</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">25</span><span>	                    </span><span class="token token" style="color: rgb(248, 197, 85);">System</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span>out</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">println</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(126, 198, 153);">"ID: "</span><span> </span><span class="token token" style="color: rgb(103, 205, 204);">+</span><span> id </span><span class="token token" style="color: rgb(103, 205, 204);">+</span><span> </span><span class="token token" style="color: rgb(126, 198, 153);">", Name: "</span><span> </span><span class="token token" style="color: rgb(103, 205, 204);">+</span><span> name </span><span class="token token" style="color: rgb(103, 205, 204);">+</span><span> </span><span class="token token" style="color: rgb(126, 198, 153);">", Email: "</span><span> </span><span class="token token" style="color: rgb(103, 205, 204);">+</span><span> email</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">26</span><span>	                </span><span class="token token" style="color: rgb(204, 204, 204);">}</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">27</span><span>	                resultSet</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">close</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">28</span><span>	            </span><span class="token token" style="color: rgb(204, 204, 204);">}</span><span> </span><span class="token token" style="color: rgb(204, 153, 205);">else</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">{</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">29</span><span>	                </span><span class="token token" style="color: rgb(153, 153, 153);">// No result set, check for update count or output parameters</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">30</span><span>	                </span><span class="token token" style="color: rgb(204, 153, 205);">int</span><span> updateCount </span><span class="token token" style="color: rgb(103, 205, 204);">=</span><span> callableStatement</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">getUpdateCount</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">31</span><span>	                </span><span class="token token" style="color: rgb(153, 153, 153);">// Process the update count or output parameters if needed</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">32</span><span>	            </span><span class="token token" style="color: rgb(204, 204, 204);">}</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">33</span><span>	
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">34</span><span>	            callableStatement</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">close</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">35</span><span>	            connection</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">close</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">36</span><span>	        </span><span class="token token" style="color: rgb(204, 204, 204);">}</span><span> </span><span class="token token" style="color: rgb(204, 153, 205);">catch</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(248, 197, 85);">SQLException</span><span> e</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span> </span><span class="token token" style="color: rgb(204, 204, 204);">{</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">37</span><span>	            e</span><span class="token token" style="color: rgb(204, 204, 204);">.</span><span class="token token" style="color: rgb(240, 141, 73);">printStackTrace</span><span class="token token" style="color: rgb(204, 204, 204);">(</span><span class="token token" style="color: rgb(204, 204, 204);">)</span><span class="token token" style="color: rgb(204, 204, 204);">;</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">38</span><span>	        </span><span class="token token" style="color: rgb(204, 204, 204);">}</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">39</span><span>	    </span><span class="token token" style="color: rgb(204, 204, 204);">}</span><span>
</span><span></span><span class="token token" style="color: rgb(240, 141, 73);">40</span><span>	</span><span class="token token" style="color: rgb(204, 204, 204);">}</span></code></pre></div><h1 id="conclusion">Conclusion</h1><p>JDBC stored procedures provide a powerful mechanism for executing precompiled SQL code on the database server. By calling stored procedures from your Java application, you can improve performance, code organization, and security. Understanding how to pass parameters to stored procedures and handle their results is crucial for leveraging the full potential of stored procedures in your Java applications.</p><h1 id="references">References</h1><ol start="1"><li>Oracle JDBC Developer's Guide: <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/" rel="noreferrer" target="_blank">https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/</a></li><li>MySQL Connector/J Documentation: <a href="https://dev.mysql.com/doc/connector-j/en/" rel="noreferrer" target="_blank">https://dev.mysql.com/doc/connector-j/en/</a></li><li>Microsoft JDBC Driver for SQL Server Documentation: <a href="https://docs.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server?view=sql-server-ver15" rel="noreferrer" target="_blank">https://docs.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server?view=sql-server-ver15</a></li></ol></div></div>
</body>
</html>